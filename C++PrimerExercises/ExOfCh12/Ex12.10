shared_ptr<int> p(new int(42));
process(shared_ptr<int>(p));

legal.
